@startuml
!theme plain
hide circle
skinparam linetype ortho

entity "profiles" as profiles {
  *id : uuid <<generated>>
  --
  *email : text
  full_name : text
  avatar_url : text
  role : text <<default: 'user'>>
  created_at : timestamp
  updated_at : timestamp
}

entity "school_profile" as school_profile {
  *id : uuid <<generated>>
  --
  *name : text
  address : text
  phone : text
  email : text
  logo_url : text
  vision : text
  mission : text
  created_at : timestamp
  updated_at : timestamp
}

entity "articles" as articles {
  *id : uuid <<generated>>
  --
  *title : text
  *slug : text <<unique>>
  content : text
  excerpt : text
  image_url : text
  *author_id : uuid <<FK>>
  is_published : boolean <<default: false>>
  published_at : timestamp
  created_at : timestamp
  updated_at : timestamp
}

entity "announcements" as announcements {
  *id : uuid <<generated>>
  --
  *title : text
  content : text
  importance_level : text <<'low', 'medium', 'high'>>
  is_active : boolean <<default: true>>
  created_at : timestamp
  updated_at : timestamp
}

entity "agendas" as agendas {
  *id : uuid <<generated>>
  --
  *title : text
  description : text
  *event_date : date
  start_time : time
  end_time : time
  location : text
  created_at : timestamp
  updated_at : timestamp
}

entity "modules" as modules {
  *id : uuid <<generated>>
  --
  *name : text
  *slug : text <<unique>>
  description : text
  icon_name : text
  path : text
  min_role : text <<'user', 'admin'>>
  is_active : boolean <<default: true>>
  created_at : timestamp
}

profiles ||..o{ articles : "writes"
@enduml
